<UserControl x:Class="AppricationViewModule.Views.ReserveView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:av="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:tp="clr-namespace:CustomControlLibrary.TimePicker;assembly=CustomControlLibrary"
             xmlns:cb="clr-namespace:CustomControlLibrary.Button;assembly=CustomControlLibrary"
             xmlns:lc="clr-namespace:CustomControlLibrary.Text;assembly=CustomControlLibrary"
             xmlns:bc="clr-namespace:CustomControlLibrary.CustomBaseControl;assembly=CustomControlLibrary"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:local="clr-namespace:AppricationViewModule.Views"
             mc:Ignorable="av"
             prism:ViewModelLocator.AutoWireViewModel="True"
             av:DesignWidth="644.089" av:DesignHeight="316.832">
    <Grid Margin="30,20,30,20">
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Orientation="Horizontal">
            <lc:LabelingContainer Text="START" Margin="0,0,10,0">
                <StackPanel Orientation="Horizontal">
                    <DatePicker TabIndex="2" SelectedDate="{Binding StartDateTime}"/>
                </StackPanel>
            </lc:LabelingContainer>
            <lc:LabelingContainer Text="END" Margin="0,0,10,0">
                <StackPanel Orientation="Horizontal">
                    <DatePicker TabIndex="3" SelectedDate="{Binding EndDateTime}"/>
                </StackPanel>
            </lc:LabelingContainer>
            <lc:LabelingContainer Text="" Margin="0,0,10,0">
                <cb:CommandButton TabIndex="4" Command="{Binding SearchCommand}" Text="SEARCH" Width="40"/>
            </lc:LabelingContainer>
            <lc:LabelingContainer Text="" Margin="0,0,10,0">
                <cb:CommandButton TabIndex="5" Command="{Binding CreateReserveCommand}" Text="CREATE" Width="150"/>
            </lc:LabelingContainer>
        </StackPanel>
        <ListBox Grid.Row="1"
                 TabIndex="1"
                 BorderBrush="{x:Null}"
                 BorderThickness="0"
                 Background="AliceBlue"
                 SelectedItem="{Binding CurrentReserve}"
                 ItemsSource="{Binding Reserves}">
            <ListBox.ItemContainerStyle>
                <Style TargetType="{x:Type ListBoxItem}">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <Setter Property="Padding" Value="0"/>
                    <Setter Property="BorderThickness" Value="0"/>
                </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border BorderThickness="1"
                            BorderBrush="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}"
                            HorizontalAlignment="Stretch">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0"
                                        Orientation="Horizontal">
                                <lc:LabelingContainer Margin="0,0,5,0" Text="reserve start">
                                    <bc:BaseTextBlockControl Text="{Binding Item.ReserveStart, StringFormat={}{0:yyyy/MM/dd HH:mm}}"/>
                                </lc:LabelingContainer>
                                <lc:LabelingContainer Margin="0,0,5,0" Text="block start">
                                    <bc:BaseTextBlockControl Text="{Binding BlockStartTime, StringFormat={}{0:hh\\:mm}}"/>
                                </lc:LabelingContainer>
                                <lc:LabelingContainer Margin="0,0,5,0" Text="reserve end">
                                    <bc:BaseTextBlockControl Text="{Binding Item.ReserveEnd, StringFormat={}{0:yyyy/MM/dd HH:mm}}"/>
                                </lc:LabelingContainer>
                                <lc:LabelingContainer Margin="0,0,5,0" Text="block end">
                                    <bc:BaseTextBlockControl Text="{Binding BlockEndTime, StringFormat={}{0:hh\\:mm}}"/>
                                </lc:LabelingContainer>
                                <lc:LabelingContainer Margin="0,0,5,0" Text="memo">
                                    <bc:BaseTextBlockControl Text="{Binding ReserveMemo}"/>
                                </lc:LabelingContainer>
                            </StackPanel>
                            <lc:LabelingContainer Grid.Row="1"
                                                  Text="memo1">
                                <bc:BaseTextBlockControl Text="{Binding ReserveMemo1}"/>
                            </lc:LabelingContainer>
                            <cb:CommandButton Grid.Column="1" Grid.Row="0" Grid.RowSpan="2"
                                              Text="*"
                                              FontSize="10"
                                              HorizontalAlignment="Right"
                                              VerticalAlignment="Top"
                                              CommandParameter="{Binding }"
                                              Command="{Binding Path=DataContext.ShowSelectedItemCommand,
                                RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}}"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</UserControl>
